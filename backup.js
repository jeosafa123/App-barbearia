function gerarBackup(){const b={barbeiros,servicos,atendimentos};const blob=new Blob([JSON.stringify(b,null,2)],{type:"application/json"});const a=document.createElement("a");a.href=URL.createObjectURL(blob);a.download="backup-barbearia.json";a.click()}
function restaurarBackup(){const f=arquivoBackup.files[0];if(!f)return alert("Selecione o backup");const r=new FileReader();r.onload=e=>{const d=JSON.parse(e.target.result);barbeiros=d.barbeiros||[];servicos=d.servicos||[];atendimentos=d.atendimentos||[];localStorage.setItem("barbeiros",JSON.stringify(barbeiros));localStorage.setItem("servicos",JSON.stringify(servicos));localStorage.setItem("atendimentos",JSON.stringify(atendimentos));alert("Backup restaurado ✔️");location.reload()};r.readAsText(f)}